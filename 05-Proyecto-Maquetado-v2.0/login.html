<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecuador Travel - Iniciar Sesión</title>
    <link rel="stylesheet" href="assets/styles.css">
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">
</head>
<body>
    <div class="container">

        <!-- Navegación superior -->
        <nav class="top-nav">
            <div class="nav-brand">
                <span>Ecuador Travel</span>
            </div>
            <div class="nav-links">
                <a href="login.html" class="nav-link active">Iniciar Sesión</a>
                <a href="pages/admin-login.html" class="nav-link">Panel Admin</a>
            </div>
        </nav>

        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Formulario de login -->
            <div class="login-container">
                <div class="login-card">
                    <h2 class="card-title">Iniciar Sesión</h2>
                    <p class="card-description">
                        Ingresa tus datos para acceder a nuestros paquetes turísticos personalizados
                    </p>

                    <form id="login-form" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label" for="email">Correo Electrónico</label>
                            <input 
                                type="email" 
                                id="email" 
                                class="form-input" 
                                placeholder="tu@email.com"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="name">Nombre Completo</label>
                            <input 
                                type="text" 
                                id="name" 
                                class="form-input" 
                                placeholder="Tu nombre completo"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="phone">Teléfono (opcional)</label>
                            <input 
                                type="tel" 
                                id="phone" 
                                class="form-input" 
                                placeholder="+593 99 123 4567"
                            >
                        </div>

                        <button type="submit" class="btn btn-primary btn-large">
                            Acceder a Paquetes
                        </button>
                    </form>

                    <!-- Información -->
                    <div class="alert alert-info" style="margin-top: 1rem;">
                        <strong>Nota:</strong> No necesitas contraseña. Solo ingresa tu información 
                        para personalizar tu experiencia y recibir tu paquete por WhatsApp.
                    </div>

                    <!-- Acceso rápido -->
                    <div class="quick-access">
                        <button onclick="loginAsGuest()" class="btn btn-secondary">
                            Continuar como Invitado
                        </button>
                    </div>
                </div>

                <!-- Información de la empresa -->
                <div class="info-card">
                    <h3 class="card-title">¿Por qué elegir Ecuador Travel?</h3>
                    <ul class="features-list">
                        <li>Paquetes personalizables según tus preferencias</li>
                        <li>Precios competitivos y transparentes</li>
                        <li>Experiencias auténticas en Ecuador</li>
                        <li>Asesoramiento personalizado</li>
                        <li>Reserva directa por WhatsApp</li>
                        <li>Sin intermediarios, precios directos</li>
                    </ul>

                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-number">500+</div>
                            <div class="stat-label">Clientes Satisfechos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">50+</div>
                            <div class="stat-label">Destinos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">24/7</div>
                            <div class="stat-label">Soporte</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal para mensajes -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="message-title">Mensaje</h3>
                <button class="modal-close" onclick="closeModal('message-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <p id="message-content"></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeModal('message-modal')">Aceptar</button>
            </div>
        </div>
    </div>

    <script src="assets/app.js"></script>
    <script>
        // Inicializar la aplicación
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            
            // Verificar si ya está logueado
            if (isCustomerLoggedIn()) {
                window.location.href = 'index.html';
            }
        });

        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            
            // Validar email
            if (!validateEmail(email)) {
                showMessage('Error de validación', 'Por favor ingresa un email válido', 'error');
                return;
            }
            
            // Crear sesión de cliente
            const customerSession = {
                email: email,
                name: name,
                phone: phone,
                loginTime: new Date().toISOString(),
                isLoggedIn: true
            };
            
            localStorage.setItem('customerSession', JSON.stringify(customerSession));
            
            showMessage('Login exitoso', `¡Bienvenido ${name}!`, 'success');
            
            // Redirigir después de 1 segundo
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 1000);
        }

        function loginAsGuest() {
            const guestSession = {
                email: 'invitado@ecuadortravel.com',
                name: 'Invitado',
                phone: '',
                loginTime: new Date().toISOString(),
                isLoggedIn: true,
                isGuest: true
            };
            
            localStorage.setItem('customerSession', JSON.stringify(guestSession));
            window.location.href = 'index.html';
        }

        function showMessage(title, content, type) {
            document.getElementById('message-title').textContent = title;
            document.getElementById('message-content').textContent = content;
            
            const modal = document.getElementById('message-modal');
            modal.classList.add('show');
            
            // Cambiar color del título según el tipo
            const titleElement = document.getElementById('message-title');
            titleElement.style.color = type === 'error' ? 'var(--error)' : 'var(--success)';
        }
    </script>
</body>
</html>